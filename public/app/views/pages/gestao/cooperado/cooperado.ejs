<md-dialog md-theme="modalTheme" style="width: 50%;height:auto;max-width: 90%;max-height:100%;">
    <div layout="column">
        <md-toolbar class="md-hue-2">
            <div class="md-toolbar-tools">
                <h3><span>{{actionLabel}}</span></h3>
                <span flex></span>
                <md-button ng-click="closeDialog()">Fechar</md-button>
            </div>
        </md-toolbar>
        <md-content flex layout-padding>
            <form name="cooperadoForm" ng-submit="save()" novalidate>
                
                <h3>Nome *</h3>
                <md-input-container md-no-float flex class="md-block">
                    <input type="text" name="nome" ng-model="cooperado.nome" md-maxlength="100" required aria-label="Nome" ng-readonly="readonly">
                    <div ng-messages="cooperadoForm.nome.$error" role="alert" multiple>
                        <div ng-message="required" class="my-message">Campo Obrigatório</div>
                        <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                    </div>
                </md-input-container>
                
                <div layout="row">
                    <md-input-container flex="40" class="md-block">
                        <h3>CPF *</h3>
                        <input type="text" name="cpf" mask="999.999.999-99" clean="false" ng-blur="validarCPF()" ng-model="cooperado.cpf" required aria-label="CPF" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.cpf.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="pattern">##.###.###/####-## - Insira um CPF válido</div>
                        </div>
                    </md-input-container>
                    
                    <span flex="10"></span>
                    <md-input-content flex="40" class="md-block">
                        <h3>Data de Nascimento *</h3>
                        <md-datepicker ng-model="cooperado.dataNascimento" required ng-disabled="readonly"></md-datepicker>
                    </md-input-content>
                </div>

                <div layout="row">                    
                    <md-input-container flex="20" class="md-block">
                        <h3>RG *</h3>
                        <input type="text" name="rg" mask="9999999" clean="false" ng-model="cooperado.rg" required aria-label="RG" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.rg.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="pattern">####### - Insira uma RG válido</div>
                        </div>
                    </md-input-container>

                    <span flex="10"></span>
                    <md-input-container flex="20" class="md-block">
                        <h3>RG Orgão *</h3>
                        <input type="text" name="rgOrgao" ng-model="cooperado.rgOrgao" md-maxlength="100" required aria-label="RG Orgão" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.rgOrgao.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                        </div>
                    </md-input-container>

                    <span flex="10"></span>
                    <md-input-container flex="20" class="md-block">
                        <h3>RG UF *</h3>
                        <input type="text" name="rgUF" ng-model="cooperado.rgUF" md-maxlength="100" required aria-label="RG UF" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.rgUF.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                        </div>
                    </md-input-container>
                </div>

                <div layout="row">
                    <md-input-content flex="40" class="md-block">
                        <h3>Data de Ingresso *</h3>
                        <md-datepicker ng-model="cooperado.dataIngresso" required ng-disabled="readonly"></md-datepicker>
                    </md-input-content>

                    <span flex="10"></span>
                    <md-input-content flex="40" class="md-block">
                        <h3>Data de Saída *</h3>
                        <md-datepicker ng-model="cooperado.dataSaida" required ng-disabled="readonly"></md-datepicker>
                    </md-input-content>
                </div>

                <div layout="row">                    
                    <md-input-container flex="20" class="md-block">
                        <h3>Sexo *</h3>
                        <input type="text" name="sexo" ng-model="cooperado.sexo" md-maxlength="100" required aria-label="Sexo" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.sexo.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                        </div>
                    </md-input-container>

                    <span flex="10"></span>
                    <md-input-container flex="20" class="md-block">
                        <h3>Nacionalidade *</h3>
                        <input type="text" name="nacionalidade" ng-model="cooperado.nacionalidade" md-maxlength="100" required aria-label="RG Orgão" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.nacionalidade.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                        </div>
                    </md-input-container>

                    <span flex="10"></span>
                    <md-input-container flex="20" class="md-block">
                        <h3>Estado Civil *</h3>
                        <input type="text" name="estadoCivil" ng-model="cooperado.estadoCivil" md-maxlength="100" required aria-label="Estado Civil" ng-readonly="readonly">
                        <div ng-messages="cooperadoForm.estadoCivil.$error" role="alert" multiple>
                            <div ng-message="required" class="my-message">Campo Obrigatório</div>
                            <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                        </div>
                    </md-input-container>
                </div>
            
                <md-input-container flex="20" class="md-block">
                    <h3>Profissão *</h3>
                    <input type="text" name="profissao" ng-model="cooperado.profissao" md-maxlength="100" required aria-label="Profissão" ng-readonly="readonly">
                    <div ng-messages="cooperadoForm.profissao.$error" role="alert" multiple>
                        <div ng-message="required" class="my-message">Campo Obrigatório</div>
                        <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                    </div>
                </md-input-container>

                <hr> Dados não obrigatórios <hr>

                <h3>Natureza Jurídica *</h3>
                <md-input-container md-no-float flex="100" class="md-block">
                    <md-select name="naturezaJuridica" aria-label="Naturezas Jurídicas"
                        ng-model="cooperado.naturezaJuridica"
                        data-md-container-class="selectdemoSelectHeader" required ng-disabled="readonly">
                        
                        <md-select-header class="demo-select-header">
                            <input ng-model="njSearchTerm" aria-label="Filtro" ng-keydown="onSearchChange($event)" type="search" class="demo-header-searchbox _md-text">
                        </md-select-header>
                        <md-optgroup>
                            <md-option ng-value="nj._id" ng-repeat="nj in njList | filter:njSearchTerm track by nj._id">{{nj.codigo}} | {{nj.naturezaJuridica}}</md-option>
                        </md-optgroup>

                    </md-select>
                    <div ng-messages="cooperadoForm.naturezaJuridica.$error" role="alert" multiple>
                        <div ng-message="required" class="my-message">Campo Obrigatório</div>
                    </div>
                </md-input-container>

                <h3>Endereço *</h3>
                <md-input-container md-no-float flex class="md-block">
                    <input type="text" name="endereco" ng-model="cooperado.endereco" md-maxlength="100" required aria-label="Endereço" ng-readonly="readonly">
                    <div ng-messages="cooperadoForm.endereco.$error" role="alert" multiple>
                        <div ng-message="required" class="my-message">Campo Obrigatório</div>
                        <div ng-message="md-maxlength" class="my-message">Tamanho máximo 100 caracteres</div>
                    </div>
                </md-input-container>

                <h3>Email </h3>
                <md-input-container md-no-float flex="45" class="md-block">
                    <input type="email" name="email" ng-model="cooperado.email" required aria-label="Email" 
                        ng-pattern="/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i" 
                        ng-readonly="readonly">
                    <div ng-messages="cooperadoForm.email.$error" role="alert" multiple>
                        <div ng-message="required" class="my-message">Campo Obrigatório</div>
                        <div ng-message="pattern" class="my-message">Digite um email válido</div>
                    </div>
                </md-input-container>
                
                <div layout="column" ng-if="loading" layout-align="center center">
                    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
                </div>
                
                <div layout="row" layout-align="center center" style="padding-top:20px">
                    <md-button ng-if="action === 'create'" type="submit" ng-disabled="cooperadoForm.$invalid || loading" class="md-raised md-primary"> Criar Cooperativa</md-button>
                    <md-button ng-if="action === 'edit'" type="submit" ng-disabled="cooperadoForm.$invalid || loading" class="md-raised md-primary"> Atualizar Cooperativa</md-button>
                    <div flex></div>
                </div>

            </form>
        </md-content>    
    </div>
</md-dialog>